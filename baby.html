<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Private Build</title>

<style>
body {
  margin: 0;
  background: black;
  color: #00ff9f;
  font-family: monospace;
  padding: 40px;
  overflow-x: hidden;
}

#terminal {
  white-space: pre-line;
  line-height: 1.6;
  font-size: 16px;
}

.hidden { display: none; }

.glitch {
  position: relative;
  color: #00ff9f;
  animation: glitch-flicker 0.3s infinite;
}

.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  left: 0; top: 0;
  width: 100%;
  overflow: hidden;
}

.glitch::before {
  left: 2px;
  text-shadow: -2px 0 red;
  clip: rect(2px, 9999px, 5px, 0);
}

.glitch::after {
  left: -2px;
  text-shadow: -2px 0 blue;
  clip: rect(10px, 9999px, 15px, 0);
}

@keyframes glitch-flicker {
  0% { transform: translate(0,0); }
  20% { transform: translate(-2px,1px); }
  40% { transform: translate(2px,-1px); }
  60% { transform: translate(-1px,2px); }
  80% { transform: translate(1px,-2px); }
  100% { transform: translate(0,0); }
}
.reveal {
  text-align: center;
  color: white;
  font-family: Arial, sans-serif;
  margin-top: 80px;
  opacity: 0;
  animation: fadeIn 2s forwards;
}

@keyframes fadeIn {
  to { opacity: 1; }
}

.memory {
  max-width: 320px;
  margin: 30px auto;
  display: block;
  border-radius: 14px;
}

button {
  padding: 12px 24px;
  margin-top: 20px;
  background: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  font-size: 14px;
}

button:hover {
  opacity: 0.85;
}
</style>
</head>

<body>

<div id="terminal"></div>

<div id="final-content" class="hidden reveal">
  <h1>Hi, baby.</h1>

  <p>You weren‚Äôt supposed to find this.</p>
  <p>But since you did‚Ä¶ this is only for you.</p>

  <img src="your-photo.jpg" class="memory">

  <p>
    I don‚Äôt say it enough, but you changed how I see life.
    You made it calmer. Softer. Better.
    And I don‚Äôt take that lightly.
  </p>

  <p>
    Out of all timelines, all random chances,
    all the possible versions of us ‚Äî
    I‚Äôm just grateful it‚Äôs this one.
  </p>

  <button onclick="playVoice()">Play Secret Message</button>
  <audio id="voice" src="voice.mp3"></audio>

  <br><br>

  <button onclick="unlockFuture()">Continue</button>

  <div id="future" class="hidden">
    <h2>Future Loading...</h2>

    <img src="memory2.jpg" class="memory">

    <p>
      Late night drives.  
      Random food runs.  
      Dumb arguments we laugh about later.
    </p>

    <p>
      Growing. Failing. Fixing. Learning.  
      Choosing each other anyway.
    </p>

    <h2>Still choosing you.</h2>

    <button onclick="showQuestion()">One More Thing</button>
    

    
 <div id="choice-section" class="hidden" style="text-align:center; margin-top:30px;">
  <h2>Do you promise to keep choosing me too?</h2>
  <button id="yes-btn">Yes üíñ</button>
  <button id="no-btn">No üò¢</button>
</div>

<div id="final-celebration" class="hidden" style="text-align:center; margin-top:30px;">
  <h1>Yay! üíï We're forever!</h1>
  <p>Thank you for choosing me! ü•∞</p>
  <div id="hearts-container"></div>
</div>

  <button id="choice-btn">Yes / No</button>
  <p>Attempts: <span id="no-count">0</span></p>
</div>
<script>
const terminal = document.getElementById("terminal");
const finalContent = document.getElementById("final-content");

function typeLine(text, speed = 35) {
  return new Promise(resolve => {
    let i = 0;
    const interval = setInterval(() => {
      terminal.innerHTML += text[i];
      i++;
      if (i >= text.length) {
        clearInterval(interval);
        terminal.innerHTML += "<br>";
        resolve();
      }
    }, speed);
  });
}

async function startProtocol() {
  if (localStorage.getItem("babyUnlocked")) {
    terminal.innerHTML = "This build has already been deployed.<br><br>Some things are meant to happen once.";
    return;
  }

  localStorage.setItem("babyUnlocked", "true");

  terminal.classList.add("glitch");

  await new Promise(r => setTimeout(r, 800));
  terminal.classList.remove("glitch");

  await typeLine("Keyword detected...");
  await typeLine("Verifying identity...");
  await typeLine("User recognized.");
  await typeLine("Relationship status: Permanent.");
  await typeLine("Initiating Baby Protocol...");
  await typeLine("Loading Shared Memories... 24%");
  await typeLine("Analyzing Smile Data... 67%");
  await typeLine("Cuteness Overflow... 99%");
  await typeLine("System overwhelmed.");
  await typeLine("Switching to private build...");

  setTimeout(() => {
    terminal.classList.add("hidden");
    finalContent.classList.remove("hidden");
  }, 1200);
}

function playVoice() {
  document.getElementById("voice").play();
}

function unlockFuture() {
  document.getElementById("future").classList.remove("hidden");
}

function showQuestion() {
  document.getElementById("question").classList.remove("hidden");
}
// -------- Choice Button Game --------
const choiceSection = document.getElementById("choice-section");
const yesBtn = document.getElementById("yes-btn");
const noBtn = document.getElementById("no-btn");
const finalCelebration = document.getElementById("final-celebration");
const heartsContainer = document.getElementById("hearts-container");

let noClicks = 0;

// Show the choice section after question appears
function showChoice() {
  choiceSection.classList.remove("hidden");
}

// Yes button clicked
yesBtn.addEventListener("click", () => {
  choiceSection.classList.add("hidden");
  finalCelebration.classList.remove("hidden");
  document.body.style.background = "#ffccdd"; // pink background
  launchHearts();
});

// No button clicked
noBtn.addEventListener("click", () => {
  noClicks++;
  
  // Increase size and move randomly
  const randX = Math.random() * 200 - 100;
  const randY = Math.random() * 200 - 100;
  noBtn.style.transform = `translate(${randX}px, ${randY}px) scale(${1 + noClicks*0.2})`;
  noBtn.style.transition = "all 0.4s ease";

  // Change theme gradually to pink
  const pinkIntensity = Math.min(255, 180 + noClicks*10);
  document.body.style.background = `rgb(255, ${pinkIntensity}, ${pinkIntensity})`;

  // Add fun text hint after a few clicks
  if(noClicks === 3){
    const hint = document.createElement("p");
    hint.textContent = "Come on‚Ä¶ you know the answer ‚ù§Ô∏è";
    hint.style.color = "#fff";
    hint.style.fontWeight = "bold";
    choiceSection.appendChild(hint);
  }
});

// Launch floating hearts
function launchHearts() {
  for(let i=0; i<30; i++){
    const heart = document.createElement("div");
    heart.textContent = "üíñ";
    heart.style.position = "absolute";
    heart.style.fontSize = `${Math.random()*30 + 20}px`;
    heart.style.left = `${Math.random()*window.innerWidth}px`;
    heart.style.top = `${Math.random()*window.innerHeight}px`;
    heart.style.opacity = 0.8;
    heart.style.pointerEvents = "none";
    heartsContainer.appendChild(heart);

    // animate falling hearts
    const fallDuration = Math.random()*3 + 2;
    heart.animate([
      { transform: `translateY(0px) rotate(0deg)` },
      { transform: `translateY(${window.innerHeight}px) rotate(${Math.random()*360}deg)` }
    ], { duration: fallDuration*1000, iterations: 1, easing:"linear" });

    // remove after falling
    setTimeout(() => heart.remove(), fallDuration*1000);
  }
}

// Trigger choice section after question appears
const questionSection = document.getElementById("question");
const observer = new MutationObserver(() => {
  if(!questionSection.classList.contains("hidden")){
    showChoice();
    observer.disconnect();
  }
});
observer.observe(questionSection, { attributes: true, attributeFilter: ["class"] });

// start cinematic
startProtocol();
</script>

</body>
</html>
